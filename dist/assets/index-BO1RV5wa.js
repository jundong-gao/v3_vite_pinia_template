import{d as e,r as a,s as t,a as l,o as s,c as i,f as u,t as c,b as d,h as r,w as v,j as h,e as m,_ as f}from"./index-CC-YTM2n.js";const n={class:"flex"},o={class:"left flex-jac"},g=["src"],p={class:"right flex-jac"},w=["src"],y={key:0,class:"flex-aic"},_=f(e({__name:"index",setup(e){const f=a({}),_=t((()=>{var e;return null==(e=f.value)?void 0:e.maskStyle})),x=a(""),b=a(""),k=e=>{x.value=URL.createObjectURL(e.file)},j=()=>{let e=document.querySelector(".left-img"),a=document.createElement("canvas"),t=a.getContext("2d");a.width=e.width,a.height=e.height,t.drawImage(e,0,0,a.width,a.height);let l=document.createElement("canvas"),s=l.getContext("2d");l.width=_.value.width.value,l.height=_.value.height.value,s.drawImage(a,_.value.left.value,_.value.top.value,_.value.width.value,_.value.height.value,0,0,_.value.width.value,_.value.height.value);let i=l.toDataURL();b.value=i};return(e,a)=>{const t=l("base-cut-img"),R=l("el-button"),q=l("el-upload");return s(),i("div",null,[u(c(_.value)+" ",1),d("div",n,[d("div",o,[x.value?(s(),r(t,{key:0,ref_key:"cutRef",ref:f,class:"left-img-box",left:80,top:80,width:140,height:140},{default:v((()=>[d("img",{class:"left-img",src:x.value,draggable:"false"},null,8,g)])),_:1},512)):h("",!0),x.value?h("",!0):(s(),r(q,{key:1,accept:"image/*",action:"#","show-file-list":!1,"http-request":k},{default:v((()=>[m(R,{type:"primary",size:"small"},{default:v((()=>[u("选择图片")])),_:1})])),_:1}))]),d("div",p,[d("img",{class:"right-img",src:b.value},null,8,w)])]),x.value?(s(),i("div",y,[m(q,{accept:"image/*",action:"#","show-file-list":!1,"http-request":k},{default:v((()=>[m(R,{type:"primary",size:"small"},{default:v((()=>[u("重新选择")])),_:1})])),_:1}),m(R,{class:"ml-2 mt-[2px]",type:"primary",onClick:j,size:"small"},{default:v((()=>[u("确定")])),_:1})])):h("",!0)])}}}),[["__scopeId","data-v-4c41bea3"]]);export{_ as default};
