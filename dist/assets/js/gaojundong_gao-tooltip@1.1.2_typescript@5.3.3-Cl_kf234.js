!function(){try{if("undefined"!=typeof document){var t=document.createElement("style");t.appendChild(document.createTextNode(".gao-tooltip{border-radius:4px;padding:4px 8px;font-size:14px;box-sizing:border-box;box-shadow:0 0 10px #0003}.gao-tooltip.dark{color:#fff;background-color:#000}.gao-tooltip.light{color:#000;background-color:#fff}")),document.head.appendChild(t)}}catch(e){}}();var t=Object.defineProperty,e=(e,i,o)=>(((e,i,o)=>{i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o})(e,"symbol"!=typeof i?i+"":i,o),o);class i{constructor(t,i){e(this,"content"),e(this,"tooltipDOM"),e(this,"options"),e(this,"timer"),e(this,"tooltipWidth"),e(this,"tooltipHeight");let o=this;this.content="",this.tooltipDOM=document.createElement("div"),this.options=Object.assign({delay:200,maxWidth:500,theme:"dark"},i),this.timer=0,this.tooltipWidth=0,this.tooltipHeight=0,t.directive("tooltip",{mounted(t,e){t.style.whiteSpace="nowrap",t.style.textOverflow="ellipsis",t.style.overflow="hidden",t.onmouseenter=i=>{o.mouseEnterCallback(i,t,e)},t.onmouseleave=()=>{o.mouseLeaveCallback()},t.onmousemove=t=>{o.mouseMoveCallback(t)}}})}mouseEnterCallback(t,e,i){if(!(e.scrollWidth>e.offsetWidth))return;this.content="string"==typeof i.value?i.value:t.currentTarget.textContent,i.value&&"object"==typeof i&&i.value.text&&(this.content=i.value.text),this.timer&&clearTimeout(this.timer),this.tooltipDOM&&this.tooltipDOM.remove();let o=this.createDom(this.content);o.className="gao-tooltip",i.value&&"object"==typeof i.value?o.classList.add(i.value.theme||this.options.theme):o.classList.add(this.options.theme),o.style.maxWidth=Math.min(document.documentElement.clientWidth,this.options.maxWidth)+"px",o.style.left="0px",o.style.top="0px",o.style.visibility="hidden",o.style.whiteSpace="nowrap",document.body.appendChild(o),this.tooltipWidth=o.offsetWidth,o.style.whiteSpace="normal",this.tooltipHeight=o.clientHeight,this.tooltipDOM=o,this.timer=window.setTimeout((()=>{o.style.visibility="visible"}),this.options.delay)}mouseLeaveCallback(){var t;this.timer&&clearTimeout(this.timer),null==(t=this.tooltipDOM)||t.remove()}mouseMoveCallback(t){this.tooltipWidth+t.clientX>document.documentElement.clientWidth?this.tooltipDOM.style.left=`${Math.max(0,t.clientX-this.tooltipWidth-10)}px`:this.tooltipDOM.style.left=`${t.clientX+10}px`,this.tooltipHeight+t.clientY>document.documentElement.clientHeight?this.tooltipDOM.style.top=t.clientY-this.tooltipHeight-10+"px":this.tooltipDOM.style.top=`${t.clientY+10}px`}createDom(t){let e=document.createElement("div");return e.style.position="fixed",e.textContent=t,e}}const o=(t,e)=>new i(t,e);export{o as t};
