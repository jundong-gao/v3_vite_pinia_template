import{d as e,r as a,s as l,a as t,o as s,c as u,f as i,t as c,b as d,h as r,w as v,j as h,e as m,_ as n}from"./index-ZCgGiMnq.js";const f={class:"flex"},o={class:"left flex-jac"},g=["src"],p={class:"right flex-jac"},w=["src"],y={key:0,class:"flex-aic"},_=n(e({__name:"index",setup(e){const n=a({}),_=l((()=>{var e;return null==(e=n.value)?void 0:e.maskStyle})),x=a(""),b=a(""),k=e=>{x.value=URL.createObjectURL(e.file)},j=()=>{let e=document.querySelector(".left-img"),a=document.createElement("canvas"),l=a.getContext("2d");a.width=e.width,a.height=e.height,l.drawImage(e,0,0,a.width,a.height);let t=document.createElement("canvas"),s=t.getContext("2d");t.width=_.value.width.value,t.height=_.value.height.value,s.drawImage(a,_.value.left.value,_.value.top.value,_.value.width.value,_.value.height.value,0,0,_.value.width.value,_.value.height.value);let u=t.toDataURL();b.value=u};return(e,a)=>{const l=t("base-cut-img"),R=t("el-button"),q=t("el-upload");return s(),u("div",null,[i(c(_.value)+" ",1),d("div",f,[d("div",o,[x.value?(s(),r(l,{key:0,ref_key:"cutRef",ref:n,class:"left-img-box"},{default:v((()=>[d("img",{class:"left-img",src:x.value,draggable:"false"},null,8,g)])),_:1},512)):h("",!0),x.value?h("",!0):(s(),r(q,{key:1,accept:"image/*",action:"#","show-file-list":!1,"http-request":k},{default:v((()=>[m(R,{type:"primary",size:"small"},{default:v((()=>[i("选择图片")])),_:1})])),_:1}))]),d("div",p,[d("img",{class:"right-img",src:b.value},null,8,w)])]),x.value?(s(),u("div",y,[m(q,{accept:"image/*",action:"#","show-file-list":!1,"http-request":k},{default:v((()=>[m(R,{type:"primary",size:"small"},{default:v((()=>[i("重新选择")])),_:1})])),_:1}),m(R,{class:"ml-2 mt-[2px]",type:"primary",onClick:j,size:"small"},{default:v((()=>[i("确定")])),_:1})])):h("",!0)])}}}),[["__scopeId","data-v-3167d951"]]);export{_ as default};
