import{r as e,d as a,a as n,o as t,c as r,f as i,t as s,g as l,b as o,e as u,w as f}from"./index-ZCgGiMnq.js";const c=a({__name:"index",setup(a){let{fps:c,destory:d,restart:m}=((a={delay:10,infinite:!0})=>{let n=e(0),t=a.delay,r=e(0),i=e(!1),s=performance.now(),l=0;const o=()=>{if(l+=1,l>t){const e=performance.now(),t=e-s;if(n.value=Math.round(1e3/(t/l)),s=e,l=0,i.value=!1,!a.infinite)return u()}r.value=requestAnimationFrame(o)};function u(){i.value=!1,cancelAnimationFrame(r.value)}return r.value=requestAnimationFrame(o),{fps:n,destory:u,restart:function(){i.value||(i.value=!0,r.value=requestAnimationFrame(o))}}})({delay:100,infinite:!1});return(e,a)=>{const v=n("el-button");return t(),r("div",null,[i("FPS: "+s(l(c))+" ",1),o("div",null,[u(v,{type:"warning",onClick:l(m)},{default:f((()=>[i("restart")])),_:1},8,["onClick"]),u(v,{type:"warning",onClick:l(d)},{default:f((()=>[i("destory")])),_:1},8,["onClick"])])])}}});export{c as default};
