import{d as k,r as m,s as b,a as _,o as n,c as p,f as u,t as C,b as o,h as x,w as s,j as v,e as r,_ as I}from"./index-zkePX6pp.js";const R={class:"flex"},j={class:"left flex-jac"},B=["src"],N={class:"right flex-jac"},S=["src"],V={key:0,class:"flex-aic"},q=k({__name:"index",setup(z){const h=m({}),e=b(()=>{var t;return(t=h.value)==null?void 0:t.maskStyle}),c=m(""),g=m(""),f=t=>{c.value=URL.createObjectURL(t.file)},w=()=>{let t=document.querySelector(".left-img"),l=document.createElement("canvas"),d=l.getContext("2d");l.width=t.width,l.height=t.height,d.drawImage(t,0,0,l.width,l.height);let a=document.createElement("canvas"),i=a.getContext("2d");a.width=e.value.width.value,a.height=e.value.height.value,i.drawImage(l,e.value.left.value,e.value.top.value,e.value.width.value,e.value.height.value,0,0,e.value.width.value,e.value.height.value);let y=a.toDataURL();g.value=y};return(t,l)=>{const d=_("base-cut-img"),a=_("el-button"),i=_("el-upload");return n(),p("div",null,[u(C(e.value)+" ",1),o("div",R,[o("div",j,[c.value?(n(),x(d,{key:0,ref_key:"cutRef",ref:h,class:"left-img-box"},{default:s(()=>[o("img",{class:"left-img",src:c.value,draggable:"false"},null,8,B)]),_:1},512)):v("",!0),c.value?v("",!0):(n(),x(i,{key:1,accept:"image/*",action:"#","show-file-list":!1,"http-request":f},{default:s(()=>[r(a,{type:"primary",size:"small"},{default:s(()=>[u("选择图片")]),_:1})]),_:1}))]),o("div",N,[o("img",{class:"right-img",src:g.value},null,8,S)])]),c.value?(n(),p("div",V,[r(i,{accept:"image/*",action:"#","show-file-list":!1,"http-request":f},{default:s(()=>[r(a,{type:"primary",size:"small"},{default:s(()=>[u("重新选择")]),_:1})]),_:1}),r(a,{class:"ml-2 mt-[2px]",type:"primary",onClick:w,size:"small"},{default:s(()=>[u("确定")]),_:1})])):v("",!0)])}}}),L=I(q,[["__scopeId","data-v-3167d951"]]);export{L as default};
